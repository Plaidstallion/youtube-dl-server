{% extends 'layout.html' %}
{% block body %}
<div class = 'container d-flex flex-column text-light text-center'>
    <div class = 'flex-grow-1'></div>
    <div class = 'jumbotron bg-transparent flex-grow-1'>
        <h1 class = 'display-4'>administrator settings</h1>
        <p class = 'lead'>You can change the settings for your youtube-dl-server installation here. This is where you manage/add/delete users.</p>
        <div>
            <table class = 'table-responsive-xl table table-bordered overflow-auto' id = 'history-table'>
                <thead>
                    <tr>
                        <th scope = 'col'>Username</th>
                        <th scope = 'col'>Is Admin</th>
                        <th scole = 'col'>Options</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in userData %}
                        <tr>
                            <td scope = row>{{ user[0] }}</td>
                            <td>{{ user[1] }}</td>
                            <td>
                                <form action = "{{ url_for('WEB_DELETEUSER') }}" method = 'POST'>
                                    <input value = '{{ user[0] }}' name = 'username' class = 'hidden'>
                                    <button class = 'btn btn-danger' type = 'submit' id = 'button-submit'>Delete User</button>
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <form form action = "{{ url_for('WEB_ADDUSER') }}" method = 'POST' autocomplete = 'off'>
            <div class = 'input-group d-flex justify-content-center'>
                <input name = 'new_username' type = 'text' class = 'form-control col-lg-3 rounded' placeholder = 'New account username' autofocus>
                <input name = 'new_password' type = 'password' class = 'form-control col-lg-3 rounded significantLeftMargin' placeholder = 'New account password' autofocus>
                <input name = 'new_password_confirm' type = 'password' class = 'form-control col-lg-3 rounded significantLeftMargin' placeholder = 'New account password' autofocus>
                <button class = 'btn btn-primary significantLeftMargin' type = 'submit' id = 'button-submit'>Create new user</button>
            </div>
        </form>
    </div>
    <footer>
    <div>
        <p class = 'text-muted'>
            Web frontend for <a class = 'text-light' href = 'https://rg3.github.io/youtube-dl/'>youtube-dl</a>, by <a class = 'text-light' href = 'https://twitter.com/manbearwiz'>@manbearwiz</a>, and modified by <a class = 'text-light' href = 'https://github.com/katznboyz1'>@katznboyz</a>.<br>
            <a class = 'text-light' href = "{{ url_for('WEB_INDEX') }}">(HOME)</a> - <a class = 'text-light' href = "{{ url_for('WEB_HISTORY') }}">(HISTORY)</a> - <a class = 'text-light' href = "{{ url_for('WEB_LOGOUT') }}">(LOG OUT)</a> - <a class = 'text-light' href = "{{ url_for('WEB_ADMIN') }}">(ADMIN)</a>
        </p>
    </div>
    </footer>
</div>
{% endblock %}